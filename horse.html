<html>
  <head>
    <title>A number of horses üêé</title>
    <style>
      #horses { display:table; margin:0 auto;}
      #horsesleft { position: fixed; bottom: 1em; left: 1em; color: lightgray; }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  </head>
  <body><span id=horsesleft>(some)</span><ol id=horses></ol></body>
  <script>
    var $horses = $("#horses");

    var $horsesleft = $("#horsesleft");
    var max_iterations = parseInt(unescape(window.location.hash.slice(1) || window.location.search.slice(1))) || 4938222;
    var iterations = 0;
    var initial_pulse_duration = 1000;
    var damping_coefficient = 0.90;
    var more_horse = function() {
       $horses.append($("<li>horse</li>"));
    };
    var do_pulse = function(damping_factor) {
       more_horse();
       iterations++;
       $horsesleft.html("(" + (max_iterations - iterations).toString() + " left)");
       
       if (iterations < max_iterations) {
         setTimeout(function() { do_pulse(damping_factor * damping_coefficient) }, damping_factor * initial_pulse_duration);
       }
    };
    do_pulse(1);
  </script>
</html>
